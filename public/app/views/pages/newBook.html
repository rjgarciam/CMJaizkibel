<md-card>
  <md-card-content>
    <form ng-submit="books.isUpdate ? books.editedBook() : books.addNew()">

      <md-autocomplete
          md-selected-item="books.book.fullAuthor"
          md-search-text-change="books.bookData('fullAuthor',books.search.fullAuthor)"
          md-search-text="books.search.fullAuthor"
          md-selected-item-change="books.selectedItemChange(item,'fullAuthor')"
          md-items="item in books.bookData('fullAuthor',books.search.fullAuthor)"
          md-item-text="item"
          placeholder="Autor"
          ng-model-options="{debounce: 500}"
          >
        <md-item-template>
          <span md-highlight-text="books.search.fullAuthor" md-highlight-flags="^i">{{item}}</span>
        </md-item-template>
        <md-not-found>
          No existe "{{books.search.fullAuthor}}".
          <a ng-click="books.newData(books.search.fullAuthor,'fullAuthor')">Añadir nuevo</a>
        </md-not-found>
      </md-autocomplete>


      <md-autocomplete
          md-selected-item="books.book.titulo"
          md-search-text-change="books.bookData('nombre',books.search.titulo)"
          md-search-text="books.search.titulo"
          md-selected-item-change="books.selectedItemChange(item,'titulo')"
          md-items="item in books.bookData('titulo',books.search.titulo)"
          md-item-text="item"
          placeholder="Título"
          ng-model-options="{debounce: 500}"
          >
        <md-item-template>
          <span md-highlight-text="books.search.titulo" md-highlight-flags="^i">{{item}}</span>
        </md-item-template>
        <md-not-found>
          No hay ningún libro con el titulo "{{books.search.titulo}}".
          <a ng-click="books.newData(books.search.titulo,'titulo')">Añadir nuevo</a>
        </md-not-found>
      </md-autocomplete>

      <md-button type="submit" id="addBookButton" class="md-raised" ng-class="'md-primary'" aria-label="Enviar">
        <span>{{books.sendButtonText}}</span>
      </md-button>
      <md-button ng-if="books.isUpdate" class="md-warn" ng-click="books.deleteBook(books.book._id)">Borrar</md-button>
    </form>
  </md-card-content>
</md-card>